{"remainingRequest":"/Users/zhangsir/Desktop/ymyu/node_modules/thread-loader/dist/cjs.js!/Users/zhangsir/Desktop/ymyu/node_modules/babel-loader/lib/index.js!/Users/zhangsir/Desktop/ymyu/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhangsir/Desktop/ymyu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangsir/Desktop/ymyu/src/components/share-reader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangsir/Desktop/ymyu/src/components/share-reader.vue","mtime":1592641032490},{"path":"/Users/zhangsir/Desktop/ymyu/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangsir/Desktop/ymyu/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangsir/Desktop/ymyu/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhangsir/Desktop/ymyu/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangsir/Desktop/ymyu/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/zhangsir/Desktop/ymyu/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport _slicedToArray from \"/Users/zhangsir/Desktop/ymyu/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/zhangsir/Desktop/ymyu/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// 用于读取url中的分享信息\nimport { isDef, createSong } from \"@/utils\";\nimport { getSearch } from \"@/api\";\nimport { mapActions, mapMutations } from \"@/store/helper/music\";\nexport default {\n  created: function created() {\n    var _this = this;\n\n    this.$watch(\"$route.query.shareMusicId\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(shareMusicId) {\n        var _ref2, songs, _songs, song, id, mvid, name, alias, artists, duration, album, createdSong;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!isDef(shareMusicId)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.next = 3;\n                return getSearch({\n                  keywords: shareMusicId,\n                  limit: 1\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                songs = _ref2.result.songs;\n\n                if (!(Array.isArray(songs) && songs.length)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _songs = _slicedToArray(songs, 1), song = _songs[0];\n                id = song.id, mvid = song.mvid, name = song.name, alias = song.alias, artists = song.artists, duration = song.duration, album = song.album;\n                createdSong = createSong({\n                  id: id,\n                  name: name,\n                  alias: alias,\n                  artists: artists,\n                  duration: duration,\n                  mvId: mvid,\n                  albumName: album.name,\n                  albumId: album.id\n                });\n                _context.next = 11;\n                return _this.startSong(createdSong);\n\n              case 11:\n                _this.setPlaylist([createdSong]);\n\n                _this.setPlayerShow(true);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  },\n  methods: _objectSpread({}, mapMutations([\"setPlayerShow\", \"setPlaylist\"]), {}, mapActions([\"startSong\"])),\n  render: function render() {\n    return null;\n  }\n};",{"version":3,"sources":["share-reader.vue"],"names":[],"mappings":";;;;;;;;;;;;;AACA;AACA,SAAA,KAAA,EAAA,UAAA,QAAA,SAAA;AACA,SAAA,SAAA,QAAA,OAAA;AACA,SAAA,UAAA,EAAA,YAAA,QAAA,sBAAA;AAEA,eAAA;AACA,EAAA,OADA,qBACA;AAAA;;AACA,SAAA,MAAA,CAAA,2BAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAA,iBAAA,YAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,YAAA,CADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAIA,SAAA,CAAA;AACA,kBAAA,QAAA,EAAA,YADA;AAEA,kBAAA,KAAA,EAAA;AAFA,iBAAA,CAJA;;AAAA;AAAA;AAGA,gBAAA,KAHA,SAGA,MAHA,CAGA,KAHA;;AAAA,sBASA,KAAA,CAAA,OAAA,CAAA,KAAA,KAAA,KAAA,CAAA,MATA;AAAA;AAAA;AAAA;;AAAA,wCAUA,KAVA,MAUA,IAVA;AAWA,gBAAA,EAXA,GAWA,IAXA,CAWA,EAXA,EAWA,IAXA,GAWA,IAXA,CAWA,IAXA,EAWA,IAXA,GAWA,IAXA,CAWA,IAXA,EAWA,KAXA,GAWA,IAXA,CAWA,KAXA,EAWA,OAXA,GAWA,IAXA,CAWA,OAXA,EAWA,QAXA,GAWA,IAXA,CAWA,QAXA,EAWA,KAXA,GAWA,IAXA,CAWA,KAXA;AAYA,gBAAA,WAZA,GAYA,UAAA,CAAA;AACA,kBAAA,EAAA,EAAA,EADA;AAEA,kBAAA,IAAA,EAAA,IAFA;AAGA,kBAAA,KAAA,EAAA,KAHA;AAIA,kBAAA,OAAA,EAAA,OAJA;AAKA,kBAAA,QAAA,EAAA,QALA;AAMA,kBAAA,IAAA,EAAA,IANA;AAOA,kBAAA,SAAA,EAAA,KAAA,CAAA,IAPA;AAQA,kBAAA,OAAA,EAAA,KAAA,CAAA;AARA,iBAAA,CAZA;AAAA;AAAA,uBAuBA,KAAA,CAAA,SAAA,CAAA,WAAA,CAvBA;;AAAA;AAwBA,gBAAA,KAAA,CAAA,WAAA,CAAA,CAAA,WAAA,CAAA;;AACA,gBAAA,KAAA,CAAA,aAAA,CAAA,IAAA;;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;AAAA;AA6BA,GA/BA;AAgCA,EAAA,OAAA,oBACA,YAAA,CAAA,CAAA,eAAA,EAAA,aAAA,CAAA,CADA,MAEA,UAAA,CAAA,CAAA,WAAA,CAAA,CAFA,CAhCA;AAoCA,EAAA,MApCA,oBAoCA;AACA,WAAA,IAAA;AACA;AAtCA,CAAA","sourcesContent":["<script type=\"text/ecmascript-6\">\n// 用于读取url中的分享信息\nimport { isDef, createSong } from \"@/utils\"\nimport { getSearch } from \"@/api\"\nimport { mapActions, mapMutations } from \"@/store/helper/music\"\n\nexport default {\n  created() {\n    this.$watch(\"$route.query.shareMusicId\", async shareMusicId => {\n      if (isDef(shareMusicId)) {\n        const {\n          result: { songs }\n        } = await getSearch({\n          keywords: shareMusicId,\n          limit: 1\n        })\n\n        if (Array.isArray(songs) && songs.length) {\n          const [song] = songs\n          const { id, mvid, name, alias, artists, duration, album } = song\n          const createdSong = createSong({\n            id,\n            name,\n            alias,\n            artists,\n            duration,\n            mvId: mvid,\n            albumName: album.name,\n            albumId: album.id\n          })\n\n          await this.startSong(createdSong)\n          this.setPlaylist([createdSong])\n          this.setPlayerShow(true)\n        }\n      }\n    })\n  },\n  methods: {\n    ...mapMutations([\"setPlayerShow\", \"setPlaylist\"]),\n    ...mapActions([\"startSong\"])\n  },\n  render() {\n    return null\n  }\n}\n</script>"],"sourceRoot":"src/components"}]}