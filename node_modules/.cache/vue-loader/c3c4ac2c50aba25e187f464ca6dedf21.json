{"remainingRequest":"/Users/zhangsir/Desktop/muise/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangsir/Desktop/muise/src/components/share-reader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangsir/Desktop/muise/src/components/share-reader.vue","mtime":1592641032490},{"path":"/Users/zhangsir/Desktop/muise/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangsir/Desktop/muise/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhangsir/Desktop/muise/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangsir/Desktop/muise/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n// 用于读取url中的分享信息\nimport { isDef, createSong } from \"@/utils\"\nimport { getSearch } from \"@/api\"\nimport { mapActions, mapMutations } from \"@/store/helper/music\"\n\nexport default {\n  created() {\n    this.$watch(\"$route.query.shareMusicId\", async shareMusicId => {\n      if (isDef(shareMusicId)) {\n        const {\n          result: { songs }\n        } = await getSearch({\n          keywords: shareMusicId,\n          limit: 1\n        })\n\n        if (Array.isArray(songs) && songs.length) {\n          const [song] = songs\n          const { id, mvid, name, alias, artists, duration, album } = song\n          const createdSong = createSong({\n            id,\n            name,\n            alias,\n            artists,\n            duration,\n            mvId: mvid,\n            albumName: album.name,\n            albumId: album.id\n          })\n\n          await this.startSong(createdSong)\n          this.setPlaylist([createdSong])\n          this.setPlayerShow(true)\n        }\n      }\n    })\n  },\n  methods: {\n    ...mapMutations([\"setPlayerShow\", \"setPlaylist\"]),\n    ...mapActions([\"startSong\"])\n  },\n  render() {\n    return null\n  }\n}\n",{"version":3,"sources":["share-reader.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"share-reader.vue","sourceRoot":"src/components","sourcesContent":["<script type=\"text/ecmascript-6\">\n// 用于读取url中的分享信息\nimport { isDef, createSong } from \"@/utils\"\nimport { getSearch } from \"@/api\"\nimport { mapActions, mapMutations } from \"@/store/helper/music\"\n\nexport default {\n  created() {\n    this.$watch(\"$route.query.shareMusicId\", async shareMusicId => {\n      if (isDef(shareMusicId)) {\n        const {\n          result: { songs }\n        } = await getSearch({\n          keywords: shareMusicId,\n          limit: 1\n        })\n\n        if (Array.isArray(songs) && songs.length) {\n          const [song] = songs\n          const { id, mvid, name, alias, artists, duration, album } = song\n          const createdSong = createSong({\n            id,\n            name,\n            alias,\n            artists,\n            duration,\n            mvId: mvid,\n            albumName: album.name,\n            albumId: album.id\n          })\n\n          await this.startSong(createdSong)\n          this.setPlaylist([createdSong])\n          this.setPlayerShow(true)\n        }\n      }\n    })\n  },\n  methods: {\n    ...mapMutations([\"setPlayerShow\", \"setPlaylist\"]),\n    ...mapActions([\"startSong\"])\n  },\n  render() {\n    return null\n  }\n}\n</script>"]}]}